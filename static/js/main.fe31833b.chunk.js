(this.webpackJsonpstoretoolkit=this.webpackJsonpstoretoolkit||[]).push([[0],{10:function(e,t,r){e.exports={cartDrawer:"Cart_cartDrawer__1eCZK",cart:"Cart_cart__174xz",items:"Cart_items__1geS0",orderProcessContainer:"Cart_orderProcessContainer__3Mr6s",orderProcess:"Cart_orderProcess__1GvUz",itemOrder:"Cart_itemOrder__zK4aK",NameItem:"Cart_NameItem__3eWeB",item:"Cart_item__22tsK",itemImg:"Cart_itemImg__3ABox",delNameItem:"Cart_delNameItem__aZAe8",totalCred:"Cart_totalCred__1S5Bt",buttonCheckout:"Cart_buttonCheckout__34Wdb"}},161:function(e,t,r){},27:function(e,t,r){e.exports={container:"Header_container__Dnjgf",logoImg:"Header_logoImg__p2VeN",titleHome:"Header_titleHome__2-iM_",orders:"Header_orders__3ZOUf",imgCart:"Header_imgCart__17uvC",cartBlock:"Header_cartBlock__3FKwe",searchForm:"Header_searchForm__zdoGq",searchField:"Header_searchField__1u4PI","search-submit":"Header_search-submit__2snP3"}},34:function(e,t,r){e.exports={footer:"Footer_footer__2wUcz",footerContainer:"Footer_footerContainer__2da_i",contactBlock:"Footer_contactBlock__2z42r",contactImg:"Footer_contactImg__3SmUh",gitImg:"Footer_gitImg__PW7x8",telegImg:"Footer_telegImg__3ItZY",dateBlock:"Footer_dateBlock__Jn-Az"}},41:function(e,t,r){e.exports={productsItem:"ProductItem_productsItem__2kfnc",productsImg:"ProductItem_productsImg__3gM-y",productName:"ProductItem_productName__1ZzRs",productDescription:"ProductItem_productDescription__jmQ5q",productButton:"ProductItem_productButton__3o7Ip",productInfo:"ProductItem_productInfo__1BKsB"}},47:function(e,t,r){e.exports={orders:"Orders_orders__1KDJg",noOrders:"Orders_noOrders__2EyJG",itemOrder:"Orders_itemOrder__2zzyJ",NameItem:"Orders_NameItem__1OaV2"}},484:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r.n(c),s=r(25),n=r.n(s),o=(r(161),r(33)),i=r(157),d=r(20),l=r.n(d),m=r(38),j=r(26),u=r(27),b=r.n(u),h=(r(101),r(32)),O=r(2),p=function(e){var t=e.hideShowCart,r=e.changeSearchInput,a=e.searchValue,s=(e.setSearchValue,Object(c.useContext)(M).cartItems.reduce((function(e,t){return e+t.cost}),0));return Object(O.jsx)("header",{className:b.a.header,children:Object(O.jsxs)("div",{className:b.a.container,children:[Object(O.jsx)(h.c,{to:"/",children:Object(O.jsx)("div",{className:b.a.logoImg,children:Object(O.jsx)("img",{src:"img/logo.png",alt:"logo"})})}),Object(O.jsx)("div",{className:b.a.titleHome,children:Object(O.jsx)("h1",{children:"StarshipStore"})}),Object(O.jsx)("div",{className:b.a.searchForm,children:Object(O.jsx)("label",{children:Object(O.jsx)("input",{style:""===a?{width:null}:{width:"230px"},onChange:r,value:a,type:"search",className:b.a.searchField,placeholder:"Search"})})}),Object(O.jsx)(h.c,{to:"/orders",children:Object(O.jsx)("img",{className:b.a.orders,src:"img/order.svg",alt:"order"})}),Object(O.jsxs)("div",{className:b.a.cartBlock,onClick:t,children:[Object(O.jsx)("img",{className:b.a.imgCart,src:"img/cart.svg",alt:"cart"}),Object(O.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[s.toLocaleString()," cred."]})]})]})})},x=r(10),g=r.n(x),_=r(22),f=r.n(_);var v=function(e){var t=e.removeItemCart,r=(e.showCart,Object(c.useState)(!1)),a=Object(j.a)(r,2),s=a[0],n=a[1],o=Object(c.useState)(null),i=Object(j.a)(o,2),d=i[0],u=i[1],b=Object(c.useContext)(M),h=b.setCartItems,p=b.cartItems,x=(b.hideShowCart,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date,r=String(t.getDate()).padStart(2,"0"),c=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return e+r+c+a}),_=function(){var e=Object(m.a)(l.a.mark((function e(){var t,r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(p.length>0)){e.next=17;break}return e.next=4,f.a.post("https://612e1f69d11e5c00175583a2.mockapi.io/orders",{date:x(),item:p});case 4:t=e.sent,r=t.data,u(r.id),h([]),c=0;case 9:if(!(c<p.length)){e.next=17;break}return a=p[c],e.next=13,f.a.delete("https://612e1f69d11e5c00175583a2.mockapi.io/cart/"+a.id).then();case 13:n(!0);case 14:c++,e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}(),v=p.reduce((function(e,t){return e+t.cost}),0);return Object(O.jsx)("div",{className:g.a.cartDrawer,children:Object(O.jsxs)("div",{className:g.a.cart,children:[Object(O.jsx)("h2",{children:"Cart"}),s?Object(O.jsxs)("div",{className:g.a.orderProcessContainer,children:[" ",Object(O.jsx)("div",{className:g.a.orderProcess,children:Object(O.jsxs)("div",{className:g.a.itemOrder,children:[Object(O.jsx)("img",{src:"img/noOrders.png",alt:"orderImg"}),Object(O.jsx)("section",{className:g.a.NameItem,children:Object(O.jsxs)("p",{className:g.a.nameItemP,children:["Prepare you money, Order \u2116 ",x(d)," is processed"]})})]})})," "]}):Object(O.jsx)("div",{className:g.a.items,children:p.map((function(e,r){return Object(O.jsxs)("div",{className:g.a.item,children:[Object(O.jsx)("img",{className:g.a.itemImg,src:e.img,alt:""}),Object(O.jsxs)("section",{className:g.a.delNameItem,children:[Object(O.jsx)("p",{className:g.a.delNameItemP,children:e.name}),Object(O.jsx)("img",{onClick:function(){return t(e.id)},className:g.a.delItemCart,src:"img/delItemCart.svg",alt:""})]})]},e.cost+r)}))}),Object(O.jsxs)("p",{className:g.a.totalCred,children:["Total: ",v.toLocaleString()," cred."]}),Object(O.jsx)("button",{onClick:_,className:g.a.buttonCheckout,children:"Checkout"})]})})},I=r(34),C=r.n(I),N=function(){return Object(O.jsx)("footer",{className:C.a.footer,children:Object(O.jsxs)("div",{className:C.a.footerContainer,children:[Object(O.jsx)("div",{className:C.a.contactBlock,children:Object(O.jsxs)("div",{className:C.a.contactImg,children:[Object(O.jsx)("img",{className:C.a.gitImg,src:"img/gitFoote.svg",alt:"git"}),Object(O.jsx)("img",{className:C.a.telegImg,src:"img/telegFooter.svg",alt:"telegram"})]})}),Object(O.jsx)("div",{className:C.a.dateBlock,children:Object(O.jsx)("p",{children:"Designed and developed by Sas31 \xa9 2021. StarshipStore."})})]})})},k=r(41),S=r.n(k),w=function(e){var t=e.id,r=e.name,a=e.description,s=e.cost,n=e.img,o=e.addOnCart,i=e.showOrders,d=Object(c.useContext)(M).itemAddOnCart;return Object(O.jsxs)("div",{className:S.a.productsItem,children:[Object(O.jsx)("div",{className:S.a.productsImg,children:Object(O.jsx)("img",{src:n,alt:"imgStarS"})}),Object(O.jsxs)("div",{className:S.a.productInfo,children:[Object(O.jsx)("b",{className:S.a.productName,children:r}),Object(O.jsxs)("p",{className:S.a.productDescription,children:["Speed: ",a.speed," km/h",Object(O.jsx)("br",{}),"Class: ",a.class,Object(O.jsx)("br",{}),"Hyperdrive Rating: ",a.rating]}),Object(O.jsxs)("div",{className:S.a.productButton,children:[Object(O.jsxs)("b",{children:["Cost: ",s.toLocaleString()," credits"]}),i?null:Object(O.jsx)("img",{onClick:function(){o({id:t,parentId:t,name:r,description:a,cost:s,img:n})},src:d(t)?"img/productOnCart.svg":"img/buttonBuy1.svg",alt:"buy"})]})]})]})},y=r(98),F=r.n(y),P=r(491),B=r(489),H=(r(481),r(482),r(483),r(490)),D=r(486),z=r(487),A=r(488);H.a.use([D.a,z.a,A.a]);var K=function(){return Object(O.jsxs)(P.a,{className:F.a.coverFalcon,pagination:{clickable:!0},autoplay:{delay:1e4,disableOnInteraction:!1},loop:!0,navigation:!1,style:{"--swiper-navigation-color":"#861410",marginLeft:0,marginRight:0,zIndex:0},children:[Object(O.jsxs)("div",{className:F.a.centeredText,children:["Buy now ",Object(O.jsx)("span",{style:{color:"#D4E3EA",whiteSpace:"nowrap"},children:" Fly now"})]}),Object(O.jsx)(B.a,{children:Object(O.jsx)("img",{src:"img/cover1.jpg",alt:"buy"})}),Object(O.jsx)(B.a,{children:Object(O.jsx)("img",{src:"img/cover.jpg",alt:"buy"})}),Object(O.jsx)(B.a,{children:Object(O.jsx)("img",{src:"img/cover2.jpg",alt:"buy"})})]})},E=r(47),J=r.n(E),L=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(c.useContext)(M).itemSearch;return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://612e1f69d11e5c00175583a2.mockapi.io/orders").then();case 3:t=e.sent,r=t.data,a(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Orders loading error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.length>0?Object(O.jsx)("div",{className:J.a.orders,children:r.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsxs)("h2",{children:["Order \u2116 ",e.id+e.date]}),Object(O.jsx)("div",{className:"productsItems",children:s(e.item).map((function(e,t){return Object(O.jsx)(w,Object(o.a)(Object(o.a)({},e),{},{showOrders:r}),e.cost+t)}))})]},e.date+t)}))}):Object(O.jsx)("div",{className:J.a.noOrders,children:Object(O.jsxs)("div",{className:J.a.itemOrder,children:[Object(O.jsx)("img",{src:"img/noOrderPage.png",alt:"orderImg"}),Object(O.jsx)("section",{className:J.a.NameItem,children:Object(O.jsx)("p",{className:J.a.nameItemP,children:"No orders"})})]})})},M=Object(c.createContext)({});var V=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),r=t[0],a=t[1],s=Object(c.useState)(!1),n=Object(j.a)(s,2),d=n[0],u=n[1],b=Object(c.useState)([]),x=Object(j.a)(b,2),g=x[0],_=x[1],I=Object(c.useState)(""),C=Object(j.a)(I,2),k=C[0],S=C[1];Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("https://612e1f69d11e5c00175583a2.mockapi.io/cart").then();case 3:return t=e.sent,e.next=6,f.a.get("https://612e1f69d11e5c00175583a2.mockapi.io/items").then();case 6:r=e.sent,_(t.data),a(r.data),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),alert("Data loading error"),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var y=function(){u((function(e){return!e})),d?document.body.removeAttribute("style"):document.body.style.overflow="hidden"},F=function(){var e=Object(m.a)(l.a.mark((function e(t){var r,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(r=g.find((function(e){return+e.parentId===+t.id})))){e.next=8;break}return _((function(e){return e.filter((function(e){return+e.parentId!==+t.id}))})),e.next=6,f.a.delete("https://612e1f69d11e5c00175583a2.mockapi.io/cart/".concat(r.id)).then();case 6:e.next=14;break;case 8:return _((function(e){return[].concat(Object(i.a)(e),[t])})),e.next=11,f.a.post("https://612e1f69d11e5c00175583a2.mockapi.io/cart",t).then();case 11:c=e.sent,a=c.data,_((function(e){return e.map((function(e){return e.parentId===a.parentId?Object(o.a)(Object(o.a)({},e),{},{id:a.id}):e}))}));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){return e.filter((function(e){return e.name.toLowerCase().includes(k.toLowerCase())}))};return Object(O.jsx)(M.Provider,{value:{setCartItems:_,itemAddOnCart:function(e){return g.some((function(t){return+t.parentId===+e}))},cartItems:g,itemSearch:P,hideShowCart:y,setShowCart:u},children:Object(O.jsxs)("div",{className:"wrapper clear",children:[d&&Object(O.jsx)(v,{showCart:d,cartItems:g,removeItemCart:function(e){try{f.a.delete("https://612e1f69d11e5c00175583a2.mockapi.io/cart/".concat(e)).then(),_((function(t){return t.filter((function(t){return+t.id!==+e}))}))}catch(t){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"),console.error(t)}}}),Object(O.jsx)(p,{hideShowCart:y,changeSearchInput:function(e){return S(e.target.value)},searchValue:k}),Object(O.jsxs)("main",{className:"main",children:[Object(O.jsxs)(h.b,{path:"/",exact:!0,children:[Object(O.jsx)(K,{}),Object(O.jsx)("div",{className:"productsItems",children:P(r).map((function(e,t){return Object(O.jsx)(w,Object(o.a)(Object(o.a)({},e),{},{addOnCart:F}),e.cost+t)}))})]}),Object(O.jsx)(h.b,{path:"/orders",exact:!0,children:Object(O.jsx)(L,{})})]}),Object(O.jsx)(N,{})]})})};n.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(h.a,{children:Object(O.jsx)(V,{})})}),document.getElementById("root"))},98:function(e,t,r){e.exports={coverFalcon:"Advertising_coverFalcon__2guj5",centeredText:"Advertising_centeredText__MVIxH"}}},[[484,1,2]]]);
//# sourceMappingURL=main.fe31833b.chunk.js.map